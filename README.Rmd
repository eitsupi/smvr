---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# smvr

<!-- badges: start -->
<!-- badges: end -->

Simple implementation of [Semantic Versioning 2.0.0](https://semver.org/) on R.

smvr provides a `{vctrs}`-based vector class `smvr` for semantic versions.
It enables type-safe manipulation, comparison, and sorting of semantic versions.

## Installation

You can install the development version of smvr with:

```r
pak::pak("eitsupi/smvr")
```

## Example

```{r example}
library(smvr)

# Parse version characters into smvr objects
v <- parse_semver(c("1.0.0", "1.0.0-alpha", "1.0.0-alpha.1", "1.0.1+20250621", "0.9.0"))

# Sort versions
sort(v)

# Cast from / to the `numeric_version` class
as_smvr(numeric_version(c("4", "4.5.1")))
vctrs::vec_cast(smvr(1, 2, 3), numeric_version(character()))

# Works with tibble data frame and dplyr
tibble::tibble(version = v) |>
  dplyr::arrange(version) |>
  dplyr::mutate(
    `>= 1.0.0` = version >= smvr(1),
    `pre-release` = is_pre_release(version),
  )
```

## Features

- Create version objects with `smvr()`
- Parse version characters with `parse_semver()`
- Use comparison operators (<, >, ==), `sort`, `order`, etc. (`{vctrs}` compatible)

## Known Limitations

- The number of pre-release identifier fields is limited to 5.

```{r limitations}
# Only 5 pre-release fields are supported:
try(parse_semver("1.2.3-a.b.c.d.e.f"))
```
